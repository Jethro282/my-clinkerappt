<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Guess the Clinker Colour</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background: #fff7ec;
  text-align: center;
  padding: 30px;
}

.scoreboard {
  font-size: 18px;
  margin-bottom: 15px;
}

.stage {
  position: relative;
  width: 420px;
  height: 240px;
  margin: 0 auto 20px;
  overflow: hidden;
}

/* Clinker */
.clinker {
  position: absolute;
  right: 40px;
  bottom: 0;
  width: 180px;
  height: 180px;
  background: radial-gradient(circle at top left, #6b3e1e, #3b1c0c);
  border-radius: 50%;
  overflow: hidden;
}

.centre {
  position: absolute;
  width: 80px;
  height: 80px;
  border-radius: 50%;
  top: 50px;
  left: 50px;
  display: none;
}

.bite {
  position: absolute;
  width: 70px;
  height: 70px;
  background: #fff7ec;
  border-radius: 50%;
  top: 40px;
  right: -20px;
  display: none;
}

/* Mouth container */
.mouth {
  position: absolute;
  left: -140px;
  bottom: 60px;
  width: 120px;
  height: 80px;
  display: none;
  z-index: 10;
}

/* Jaws */
.jaw {
  position: absolute;
  width: 120px;
  height: 40px;
  background: #d32f2f;
  overflow: hidden;
}

.top {
  top: 0;
  border-radius: 60px 60px 0 0;
  transform-origin: bottom center;
}

.bottom {
  bottom: 0;
  border-radius: 0 0 60px 60px;
  transform-origin: top center;
}

/* Teeth */
.teeth {
  display: flex;
  justify-content: flex-end;
  gap: 6px;
  padding: 6px 12px;
}

.tooth {
  width: 0;
  height: 0;
  border-left: 6px solid transparent;
  border-right: 6px solid transparent;
}

.top .tooth {
  border-top: 10px solid white;
}

.bottom .tooth {
  border-bottom: 10px solid white;
}

/* Open / close states */
.open .top {
  transform: rotate(-25deg);
}

.open .bottom {
  transform: rotate(25deg);
}

.closed .top,
.closed .bottom {
  transform: rotate(0deg);
}

button {
  padding: 10px 18px;
  margin: 6px;
  font-size: 16px;
  cursor: pointer;
}

#result {
  font-size: 22px;
  margin-top: 15px;
  min-height: 30px;
}
</style>
</head>

<body>

<h1>Guess the Clinker Colour!</h1>

<div class="scoreboard">
  Score: <span id="score">0</span> |
  Streak: <span id="streak">0</span>
</div>

<div class="stage">

  <div class="mouth open" id="mouth">
    <div class="jaw top">
      <div class="teeth">
        <div class="tooth"></div>
        <div class="tooth"></div>
      </div>
    </div>
    <div class="jaw bottom">
      <div class="teeth">
        <div class="tooth"></div>
        <div class="tooth"></div>
      </div>
    </div>
  </div>

  <div class="clinker">
    <div class="centre" id="centre"></div>
    <div class="bite" id="bite"></div>
  </div>

</div>

<div>
  <button onclick="selectGuess('pink')">Pink</button>
  <button onclick="selectGuess('yellow')">Yellow</button>
  <button onclick="selectGuess('green')">Green</button>
</div>

<button onclick="reveal()">Reveal</button>
<button onclick="resetGame()">Reset Clinker</button>

<div id="result"></div>

<audio id="crunchSound">
  <source src="https://cdn.pixabay.com/audio/2022/03/15/audio_42b8b36e6d.mp3" type="audio/mpeg">
</audio>

<script>
const colours = ["pink", "yellow", "green"];
const colourMap = {
  pink: "#ff5fa2",
  yellow: "#ffd84d",
  green: "#4cd964"
};

let actual, guess = null;
let score = 0, streak = 0;

resetGame();

function selectGuess(c) {
  guess = c;
  document.getElementById("result").textContent =
    c.charAt(0).toUpperCase() + c.slice(1) + " selected";
}

function reveal() {
  if (!guess) {
    alert("Pick a colour first!");
    return;
  }
  startMouth();
}

function startMouth() {
  const mouth = document.getElementById("mouth");
  mouth.style.display = "block";

  let x = -140;
  let open = true;

  const move = setInterval(() => {
    x += 6;
    mouth.style.left = x + "px";
    mouth.className = "mouth " + (open ? "open" : "closed");
    open = !open;

    if (x >= 220) {
      clearInterval(move);
      bite();
    }
  }, 170);
}

function bite() {
  document.getElementById("crunchSound").play();
  document.getElementById("bite").style.display = "block";

  const centre = document.getElementById("centre");
  centre.style.background = colourMap[actual];
  centre.style.display = "block";

  const result = document.getElementById("result");

  if (guess === actual) {
    score++;
    streak++;
    result.textContent = "Correct! ðŸŽ‰";
  } else {
    streak = 0;
    result.textContent = "Wrong! It was " + actual;
  }

  document.getElementById("score").textContent = score;
  document.getElementById("streak").textContent = streak;

  setTimeout(() => {
    document.getElementById("mouth").style.display = "none";
  }, 300);
}

function resetGame() {
  actual = colours[Math.floor(Math.random() * colours.length)];
  guess = null;

  document.getElementById("centre").style.display = "none";
  document.getElementById("bite").style.display = "none";
  document.getElementById("mouth").style.display = "none";
  document.getElementById("mouth").style.left = "-140px";
  document.getElementById("result").textContent = "";
}
</script>

</body>
</html>
